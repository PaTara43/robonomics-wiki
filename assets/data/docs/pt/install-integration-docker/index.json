{"hash":"19a514ba159d5906c9b916d70f64c5106e401ff0","data":{"doc":{"id":"4aed6bbd1d7f8a7908af2d71f269cdd4","title":"Install Integration in Home Assistant Docker","description":"","contributors":["PaTara43"],"translated":false,"headings":[],"subtitles":[{"depth":2,"value":"Install","anchor":"#install"},{"depth":2,"value":"Verify","anchor":"#verify"}],"content":"\n** This page is for those users who have Home Assistant Docker installed and running. Here will be a concise walk-through\nthe Robonomics Integration and IPFS installation process. After these instructions the user may proceed to [configuration part](/docs/iot-sub-setup)\nof this manual.**\n\n<robo-wiki-note type=\"warning\" title=\"DISCLAIMER\">\n\n  1. This script is intended to be used with default Docker images and container of Home Assistant named `homeassistant`.\n  2. This script installs IPFS to the host machine and runs it as a `systemd` service. \n  3. It is assumed that you have Python3.9 or higher installed.\n\n</robo-wiki-note>\n\n## Install\n\nDownload the installation script and run it with bash:\n\n```bash\nwget https://raw.githubusercontent.com/LoSk-p/robonomics-hass-utils/main/raspberry_pi/install_integration_docker.sh\nsudo bash install_integration_docker.sh\n```\n\nYou will see the following output:\n\n```\n<...>\nadded /dns4/1.pubsub.aira.life/tcp/443/wss/ipfs/QmdfQmbmXt6sqjZyowxPUsmvBsgSGQjm4VXrV7WGy62dv8\nadded /dns4/2.pubsub.aira.life/tcp/443/wss/ipfs/QmPTFt7GJ2MfDuVYwJJTULr6EnsQtGVp8ahYn9NSyoxmd9\nadded /dns4/3.pubsub.aira.life/tcp/443/wss/ipfs/QmWZSKTEQQ985mnNzMqhGCrwQ1aTA6sxVsorsycQz9cQrw\n<...>\nIPFS daemon installed and launched, use ipfs-daemon.service to manage.\n<...>\nExecuting subversion-1.14.2-r1.pre-install\nExecuting busybox-1.35.0-r17.trigger\nOK: 157 MiB in 165 packages\n<...>\nA    robonomics/utils.py\nChecked out revision 120.\nIntegration downloaded!\n```\n\n<robo-wiki-note type=\"note\" title=\"`custom_components` exists.\">\n\n  You may see an error like `mkdir: can't create directory 'custom_components': File exists`. This\n  means that you have already installed some custom components and the folder exists. Ignore this message.\n\n</robo-wiki-note>\n\nRestart the container:\n\n<robo-wiki-tabs>\n  <robo-wiki-tab title=\"Docker\">\n    <pre>docker restart homeassistant</pre>\n  </robo-wiki-tab>\n  <robo-wiki-tab title=\"Docker Compose\">\n    <pre>docker compose restart</pre>\n  </robo-wiki-tab>\n</robo-wiki-tabs>\n\n\n## Verify\n\nCheck that IPFS service is up and running:\n```bash\nubuntu@ubuntu:~$ systemctl status ipfs-daemon.service \n● ipfs-daemon.service - IPFS Daemon Service\n     Loaded: loaded (/etc/systemd/system/ipfs-daemon.service; enabled; preset: enabled)\n     Active: active (running) since Thu 2022-11-03 11:30:39 UTC; 14min ago\n   Main PID: 4400 (ipfs)\n      Tasks: 12 (limit: 4416)\n     Memory: 141.9M\n        CPU: 3min 5.031s\n     CGroup: /system.slice/ipfs-daemon.service\n             └─4400 /usr/local/bin/ipfs daemon\n\nNov 03 11:30:40 ubuntu ipfs[4400]: Swarm announcing /ip4/127.0.0.1/tcp/4001\nNov 03 11:30:40 ubuntu ipfs[4400]: Swarm announcing /ip4/127.0.0.1/udp/4001/quic\nNov 03 11:30:40 ubuntu ipfs[4400]: Swarm announcing /ip4/192.168.31.45/tcp/4001\nNov 03 11:30:40 ubuntu ipfs[4400]: Swarm announcing /ip4/192.168.31.45/udp/4001/quic\nNov 03 11:30:40 ubuntu ipfs[4400]: Swarm announcing /ip6/::1/tcp/4001\nNov 03 11:30:40 ubuntu ipfs[4400]: Swarm announcing /ip6/::1/udp/4001/quic\nNov 03 11:30:40 ubuntu ipfs[4400]: API server listening on /ip4/127.0.0.1/tcp/5001\nNov 03 11:30:40 ubuntu ipfs[4400]: WebUI: http://127.0.0.1:5001/webui\nNov 03 11:30:40 ubuntu ipfs[4400]: Gateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080\nNov 03 11:30:40 ubuntu ipfs[4400]: Daemon is ready\n```\n\nYou will see the integration available while going through further steps of this tutorial.\n\n\nNow that the integration is added to the folder of custom components of Home Assistant, you may proceed to [configuration steps](/docs/iot-sub-setup).","tools":["Ubuntu Server 22.04 LTS https://ubuntu.com/download/raspberry-pi","Home Assistant 2022.8.2 https://github.com/home-assistant/core","Docker https://www.docker.com/","Robonomics integration 1.1.0 https://github.com/airalab/homeassistant-robonomics-integration","robonomics-interface 1.3.6 https://github.com/Multi-Agent-io/robonomics-interface/","IPFS 0.14.0 https://docs.ipfs.tech/"],"fileInfo":{"path":"pt/install-integration-docker.md","name":"install-integration-docker"}}},"context":{}}