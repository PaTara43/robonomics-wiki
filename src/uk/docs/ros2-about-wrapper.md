---
title: Про обгортку Robonomics ROS 2
contributors: [Fingerling42]
tools:   
  - Ubuntu 22.04.4
    https://releases.ubuntu.com/jammy/
  - ROS 2 Humble
    https://docs.ros.org/en/humble/Installation.html
  - IPFS Kubo 0.26.0
    https://docs.ipfs.tech/install/command-line/
  - Python 3.10.12
    https://www.python.org/downloads/
---

**У цій статті ви дізнаєтеся про пакет обгортки Robonomics ROS 2, який дозволяє використовувати всі функції паралельної мережі Robonomics для будь-якого сумісного з ROS 2 робота.**

Ідея пакету полягає в тому, щоб обгорнути API паралельної мережі Robonomics, надане [robonomics-interface](https://github.com/airalab/robonomics-interface), вузлами ROS 2. Мета полягає в тому, щоб надати розробникам ROS 2 зручний спосіб інтегрувати свої роботи або пристрої з функціями паралельної мережі. Логіка інтеграції роботизованого пристрою полягає в тому, що для нього створюється унікальна адреса в паралельній мережі Robonomics, яка використовується для управління пристроєм або отримання телеметрії.

Доступні функції включають:

* **Функція запуску** — запуск пристрою для виконання будь-якої команди з вказаним набором параметрів, переданих у вигляді рядка або файлу.
* **Функція журналу даних** — публікація даних пристроютелеметрія у формі хешу до паралелі.
* **Використання підписки Robonomics** — можливість відправляти транзакції без комісії.
* **Безпечне зберігання файлів** — для упаковки та розпакування даних використовується [Міжпланетна файлова система](https://ipfs.tech/), яка дозволяє отримувати доступ до файлів за їх унікальним хешем. Для зручного використання IPFS включена підтримка [Pinata](https://www.pinata.cloud/), що дозволяє закріплювати файли IPFS для швидкого завантаження.
* **Шифрування та дешифрування файлів** — захист файлів за допомогою шифрування за відкритим ключем.

На даний момент обгортка доступна у [реалізації Python](https://github.com/airalab/robonomics-ros2/).

## Архітектура обгортки

З архітектурної точки зору, обгортка складається з вузла робочого процесу (з необхідними темами та сервісами) та базового класу вузла, який може бути використаний для ваших конкретних роботів.

{% roboWikiPicture {src:"docs/robotics/robonomics-ros2-wrapper.png", alt:"Архітектура обгортки ROS 2"} %}{% endroboWikiPicture %}

* `robonomics_ros2_pubsub` — унікальний вузол для кожного робота, який служить входом до Web3. Він обгортає сервіси для відправлення даних та отримання запусків через Robonomics та дозволяє завантажувати/вивантажувати файли в IPFS. Цей вузол налаштовується за допомогою спеціального файлу, який описаний нижче. Приналежність вузла до конкретного робота може бутивказано через простір імен ROS.
* `robonomics_ros2_robot_handler` — вузол, специфічний для робота на основі базового класу `basic_robonomics_handler` для координації pubsub та робота. Він обробляє запуски та вирішує, коли відправляти журнали даних для керування роботом.

## Встановлення обгортки

Для роботи з обгорткою вам знадобиться наступне програмне забезпечення:

* Розподіл операційної системи Linux (зазвичай, Ubuntu)
* Розподіл ROS 2
* Вузол IPFS
* Python 3 (для реалізації обгортки на Python)

Будь ласка, дотримуйтесь інструкції з встановлення, доступної [тут](https://github.com/airalab/robonomics-ros2/?tab=readme-ov-file#getting-started) та перевірте необхідні версії програмного забезпечення. Після завантаження необхідних компонентів вам потрібно [побудувати](https://github.com/airalab/robonomics-ros2/?tab=readme-ov-file#installation-and-building) обгортку як звичайний пакет ROS 2 за допомогою утиліти `colcon`.

## Налаштування підключень до хмари Web3

Перед запуском обгортки вам потрібно налаштувати, як саме ваш робот буде підключатися до децентралізованого хмарини Robonomics та підтримуючих веб-сервісів Web3. Для цього вам потрібно відредагувати файл конфігурації під назвою `robonomics_pubsub_params_template.yaml`, який повинен бути унікальним для кожного запущеного робота, який потребує доступу до Robonomics.

Файл містить наступні поля конфігурації:

| Поле                 | Опис                                                                                                |
|-----------------------|------------------------------------------------------------------------------------------------------------|
| account_seed          | Насіння облікового запису паракшену Robonomics                                                             |
| crypto_type           | Тип вашого облікового запису, `ED25519` або `SR25519`                                                       |
| remote_node_url       | URL вузла Robonomics, за замовчуванням `wss://kusama.rpc.robonomics.network`, для локального вузла `ws://127.0.0.1:9944`|
| rws_owner_address     | Адреса власника підписки Robonomics для використання модуля RWS                                           |
| ipfs_dir_path         | Шлях до каталогу, що містить файли IPFS                                                                   |
| ipfs_gateway          | Шлюз IPFS для завантаження файлів, наприклад, `https://ipfs.io`                                           |
| pinata_api_key        | Ключ API від [Pinata](https://www.pinata.cloud/) сервісу закріплення для IPFS                              |
| pinata_api_secret_key | Секретний ключ API від [Pinata](https://www.pinata.cloud/) сервісу закріплення для IPFS                   |

Щоб створити обліковий запис на паракшені Robonomics, будь ласка, скористайтеся [наступним керівництвом](https://wiki.robonomics.network/docs/create-account-in-dapp/) на нашому вікі. Будь ласка, зверніть увагу на тип облікового запису, який ви створюєте, оскільки облікові записи типу SR25519 не можуть використовувати шифрування файлів.

{% roboWikiNote {type: "warning", title: "Попередження"}%}

  Фраза-насіння є чутливою інформацією, яка дозволяє будь-комуВикористовуйте свій обліковий запис. Переконайтеся, що ви не завантажуєте файл конфігурації на GitHub або куди-небудь інде.
{% endroboWikiNote %}

Зверніть увагу на поле `remote_node_url`, оскільки воно дозволяє вам вибрати, як саме підключатися до паралельної мережі Robonomics, включаючи локальне підключення. Ви можете розгорнути свій локальний екземпляр Robonomics для тестування та розробки. Інструкції з цього питання доступні в [цій статті](https://wiki.robonomics.network/docs/run-dev-node/) на нашому вікі.

Якщо у вас є підписка Robonomics, яка дозволяє вам відправляти транзакції без комісії, будь ласка, вставте адресу власника підписки в поле `rws_owner_address`. Не забудьте, що ваш обліковий запис повинен бути доданий до вашої підписки. Інструкції з активації підписки Robonomics доступні в двох посібниках: через [додаток Robonomics](https://wiki.robonomics.network/docs/sub-activate/) з інтуїтивно зрозумілим інтерфейсом або через [портал Robonomics Substrate](https://wiki.robonomics.network/docs/get-subscription/).

Параметр `ipfs_gateway` дозволяє вам вказати шлюз, через який будуть завантажуватися файли IPFS. Це можуть бути або [публічні шлюзи](https://ipfs.github.io/public-gateway-checker/), або спеціалізовані приватні (наприклад, ті, які отримані на Pinata)